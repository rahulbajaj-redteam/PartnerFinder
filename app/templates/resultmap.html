<!DOCTYPE html>
<html>
<head>
<title>Partner Finder | Red Hat</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="/static/css/bg.css">
  <meta charset="utf-8">
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.0/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.0/js/bootstrap-toggle.min.js"></script>
  <meta charset="utf-8">
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript" src="/static/js/d3_v3.js"></script>

   <script type="text/javascript">
  
    google.load('visualization', '1', { 'packages': ['geochart'] });
    google.setOnLoadCallback(drawMap);
    function drawMap() {
    var data = google.visualization.arrayToDataTable({{dfmap|safe}});
    var options = {};
    options['resolution'] = 'countries';
    options['width'] = '100%';
    options['colorAxis'] = {minValue: 0,  colors: ['#ddeef8', '#a3d6fb','#0078c0', '#ffe04e', '#f8931f', '#d54215',]}
    var chart = new google.visualization.GeoChart(document.getElementById('chart_div'));

    function myClickHandler(){
        var selection = chart.getSelection();
        var message = '';
        for (var i = 0; i < selection.length; i++) {
            var item = selection[i];
            if (item.row != null && item.column != null) {
                message += '{row:' + item.row + ',column:' + item.column + '}';
            } else if (item.row != null) {
                message += '{row:' + item.row + '}';
            } else if (item.column != null) {
                message += '{column:' + item.column + '}';
            }
        }
        if (message == '') {
            message = 'nothing';
        }
        alert('You selected ' + message);
    }

    google.visualization.events.addListener(chart, 'select', myClickHandler);
    
    chart.draw(data, options);
  };
  </script>







</head>


<body class="no-trans ">

<div style="background-color:white;">
    <div class="container-fluid">
         <div class="row">
            <div class="col-sm-4" >
                    <img src="static/img/6aeadffdf8c17100308c8188f59090ee.iix.png" height="45" width="142"  >
            </div>
            <div class="col-sm-4" >
            </div>
            <div class="col-sm-4" >
                
               <ul class="nav navbar-nav navbar-right">
                    <li class="active">
                            <a href="/search">Tabular View<span class="sr-only">(current)</span></a>
                    </li>       
               </ul>
            </div>
    </div>
</div>






<form name='partner_name' action=""  method='post'>    
{{ form.hidden_tag() }}
<div class="form-group">
<div class="container-fluid  bg-three">
    <div class="row">
        <div class="col-sm-4" >
                <font color = "white"><label>Product, Service or Speciality:</label> </font><br>
                  {{ form.prod_req }}
        </div>
        <div class="col-sm-4">                          
                <font color = "white"><label>Industry</label> </font><br>
                <div  style="max-width:70%;min-width:70%;">
                {{ form.ind_req }}
                </div>
   </div>
        <div class="col-sm-4">
            <font color = "white"><label>Role</label> </font><br>
            <div  style="max-width:70%;min-width:70%;">
             {{ form.role_req }}
            </div>
    		    <br/> 
        </div>
  </div>


  <div class="row">
    <div class="col-sm-4">
            <font color = "white"><label> Partnership Level</label> </font><br>
            <div  style="max-width:70%;min-width:70%;">
            {{ form.level_req }}
            </div>
    </div>
    <div class="col-sm-4" >
             <font color = "white"><label>Region </label> </font><br>
                {{ form.region_req }}

    </div>
    <div class="col-sm-4">
            <font color = "white"><label>Country</label> </font><br>
                  {{ form.country_req }}
         <br/><br/>
    </div>
  </div>


 <div class="row">
    <div class="col-sm-4">        
            <font color = "white"><label style="max-width:70%;min-width:70%;">Partner Name</label> </font><br>
            {{ form.name_req }}
    <br/> <br/>
    </div>
    <div class="col-sm-4"><font color = "white">
    <font color = "white"><label style="max-width:70%;min-width:70%;">Red Hat Partner</label> </font><br>
    {{ form.RH_Partner_req }}</font>
    </div>
    <div class="col-sm-4" >
    <font color = "white"><label>Global Partner</label> </font><br>
    {{ form.Global_Partner_req }}
    </div>
  </div>


  <div class="row">
    <div class="col-sm-8">   
    <table>
   <tr>
     <td><input name = "CISCOPartner"  id = "CISCOPartner"  value="1" data-toggle="toggle" data-on="CiscoPartner" data-off="Cisco"  type="checkbox"></td>

        {% block Cisco %}
            {% if Cisco_dummy %}
                {{(Cisco_dummy[0])}}
                <script>
                    $(function() {
                            $('#CISCOPartner').bootstrapToggle('on');
                                  }) 
               </script>
            {% else %}
            {% endif %}
        {% endblock Cisco %}

        <td><input  id = "CITRIXPartner" name = "CITRIXPartner"  value="1" data-toggle="toggle" data-on="Citrix Partner" data-off="Citrix"  type="checkbox"></td>

        {% block Citrix %}
            {% if CITRIX_dummy %}
                {{(CITRIX_dummy[0])}}
                <script>
                    $(function() {
                            $('#CITRIXPartner').bootstrapToggle('on');
                                  }) 
               </script>
            {% else %}
            {% endif %}
        {% endblock Citrix %}

        <td><input name = "MSPartner"  id = "MSPartner" value="1" data-toggle="toggle" data-on="Microsoft Partner    " data-off="Microsoft"  type="checkbox"></td>
        {% block MS %}
            {% if MS_dummy %}
                {{(MS_dummy[0])}}
                <script>
                    $(function() {
                            $('#MSPartner').bootstrapToggle('on');
                                  }) 
               </script>
            {% else %}
            {% endif %}
        {% endblock MS %}

        <td><input  name = "DellPartner"  id = "DellPartner"  value="1" data-toggle="toggle" data-on="Dell Partner  " data-off="Dell"  type="checkbox"></td>
        {% block Dell %}
            {% if Dell_dummy %}
                {{(Dell_dummy[0])}}
                <script>
                    $(function() {
                            $('#DellPartner').bootstrapToggle('on');
                                  }) 
               </script>
            {% else %}
            {% endif %}
        {% endblock Dell %}

        <td><input  name = "IBMPartner"  id = "IBMPartner"  value="1" data-toggle="toggle" data-on="IBM Partner   " data-off="IBM"  type="checkbox"></td>        
        {% block IBM %}
            {% if IBM_dummy %}
                {{(IBM_dummy[0])}}
                <script>
                    $(function() {
                            $('#IBMPartner').bootstrapToggle('on');
                                  }) 
               </script>
            {% else %}
            {% endif %}
        {% endblock IBM %}

        <td><input name = "OraclePartner" id = "OraclePartner"  value="1"  data-toggle="toggle" data-on="Oracle Partner" data-off="Oracle"  type="checkbox"></td>        
        {% block Oracle %}
            {% if Oracle_dummy %}
                {{(Oracle_dummy[0])}}
                <script>
                    $(function() {
                            $('#OraclePartner').bootstrapToggle('on');
                                  }) 
               </script>
            {% else %}
            {% endif %}
        {% endblock Oracle %}

        <td><input  name = "VMPartner" id = "VMPartner"  value="1" data-toggle="toggle" data-on="VMWare Partner" data-off="VMWare"  type="checkbox"></td>
        {% block VM %}
            {% if VM_dummy %}
                {{(VM_dummy[0])}}
                <script>
                    $(function() {
                            $('#VMPartner').bootstrapToggle('on');
                                  }) 
               </script>
            {% else %}
            {% endif %}
        {% endblock VM %}

        <td><input id = "SAPPartner" name = "SAPPartner" value="1" data-toggle="toggle" data-on="   SAP Partner   " data-off="   SAP   "  type="checkbox"></td>
        {% block SAP %}
            {% if SAP_dummy %}
                {{(SAP_dummy[0])}}
                <script>
                    $(function() {
                            $('#SAPPartner').bootstrapToggle('on');
                                  }) 
               </script>
            {% else %}
            {% endif %}
        {% endblock SAP %}

        <td> </td>
    </tr>
    </table>
             
    </div> 
    <div class="col-sm-4">       
   
    
       
       
    </div>
    <div class="col-sm-2">  
               <button type= "submit" name ="search" id="search" class="btn btn-success" >Search</button> 
        <button type="button" name ="reset" id= "reset" class="btn btn-warning">Reset</button> 
      <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> 
     
         <script type="text/javascript">
                document.getElementById("reset").onclick = function () {
                location.href = "/mapview";
                };
        </script>
    </div>
  </div>



 

</div>
</div>

</form>


<pre id="csvdata">
{{bubble|safe}}
</pre>



<table align = "center">
<tr>
<td>
</td>
<td>
         <div id="chart_div" style="width: 1200px ; height: 500px;"></div><br/><br/>

</td>
<td>

<div id="chartContainer">

    <script src="/static/js/d3.v3.4.8.js"></script>
  <script src="/static/js/dimple.v2.1.6.js"></script>

  <script type="text/javascript">      var svg = dimple.newSvg("#chartContainer", 590, 400);
      JSONdata = {{bubble|safe}};   
      
     
  
          var myChart = new dimple.chart(svg, JSONdata);
          myChart.setBounds(80, 30, 480, 330)
          myChart.addMeasureAxis("x", "NumberOfPartners");
          myChart.addCategoryAxis("y", ["AvgRating", "GeoCountry"]);
          myChart.addMeasureAxis("z", "NOA");
          myChart.addSeries("GeoCountry", dimple.plot.bubble);
          myChart.addLegend(60, 10, 510, 20, "right");
          myChart.draw();
  </script>
</div>


</td>
</tr>
</table>
	</body>





<script type="text/javascript">
		var w = 500,
		    h = 100;

		var svg = d3.select("#chart")
			.append("svg")
			.attr("width", w)
			.attr("height", h);
    	

            var data = {{BarJson | safe}}
		d3.json(data, function(json) {
	
			
			var max_n = 0;
			for (var d in data) {
				max_n = Math.max(data[d].Count, max_n);
			}
		
			var dx = w / max_n;
			var dy = h / data.length;
	
			// bars
			var bars = svg.selectAll(".bar")
				.data(data)
				.enter()
				.append("rect")
				.attr("class", function(d, i) {return "bar " + d.GeoCountry;})
				.attr("x", function(d, i) {return 0;})
				.attr("y", function(d, i) {return dy*i;})
                       .attr("fill","green") 
				.attr("width", function(d, i) {return dx*d.Count})
				.attr("height", dy);

	
			// labels
			var text = svg.selectAll("text")
				.data(data)
				.enter()
				.append("text")
				.attr("class", function(d, i) {return "label " + d.GeoCountry;})
				.attr("x", 5)
				.attr("y", function(d, i) {return dy*i + 15;})
				.text( function(d) {return d.GeoCountry + " (" + d.Count  + ")";})
				.attr("font-size", "15px")
				.style("font-weight", "bold");
		});

	</script>


</html>